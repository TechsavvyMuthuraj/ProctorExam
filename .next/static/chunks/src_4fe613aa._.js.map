{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AANA;;;;;;AAQA,MAAM,eAAe,+KAAA,CAAA,OAA0B;AAE/C,MAAM,sBAAsB,+KAAA,CAAA,UAA6B;AAEzD,MAAM,oBAAoB,+KAAA,CAAA,QAA2B;AAErD,MAAM,qBAAqB,+KAAA,CAAA,SAA4B;AAEvD,MAAM,kBAAkB,+KAAA,CAAA,MAAyB;AAEjD,MAAM,yBAAyB,+KAAA,CAAA,aAAgC;AAE/D,MAAM,uCAAyB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAK5C,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBAC3C,6LAAC,+KAAA,CAAA,aAAgC;QAC/B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0MACA,SAAS,QACT;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,yNAAA,CAAA,eAAY;gBAAC,WAAU;;;;;;;;;;;;;AAG5B,uBAAuB,WAAW,GAChC,+KAAA,CAAA,aAAgC,CAAC,WAAW;AAE9C,MAAM,uCAAyB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG5C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,+KAAA,CAAA,aAAgC;QAC/B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,ybACA;QAED,GAAG,KAAK;;;;;;;AAGb,uBAAuB,WAAW,GAChC,+KAAA,CAAA,aAAgC,CAAC,WAAW;AAE9C,MAAM,oCAAsB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGzC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,6LAAC,+KAAA,CAAA,SAA4B;kBAC3B,cAAA,6LAAC,+KAAA,CAAA,UAA6B;YAC5B,KAAK;YACL,YAAY;YACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,ybACA;YAED,GAAG,KAAK;;;;;;;;;;;;AAIf,oBAAoB,WAAW,GAAG,+KAAA,CAAA,UAA6B,CAAC,WAAW;AAE3E,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAKtC,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,6LAAC,+KAAA,CAAA,OAA0B;QACzB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qSACA,SAAS,QACT;QAED,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,+KAAA,CAAA,OAA0B,CAAC,WAAW;AAErE,MAAM,yCAA2B,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG9C,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE,oBAC7C,6LAAC,+KAAA,CAAA,eAAkC;QACjC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,wOACA;QAEF,SAAS;QACR,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,+KAAA,CAAA,gBAAmC;8BAClC,cAAA,6LAAC,uMAAA,CAAA,QAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;YAGpB;;;;;;;;AAGL,yBAAyB,WAAW,GAClC,+KAAA,CAAA,eAAkC,CAAC,WAAW;AAEhD,MAAM,sCAAwB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAG3C,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,+KAAA,CAAA,YAA+B;QAC9B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,wOACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,+KAAA,CAAA,gBAAmC;8BAClC,cAAA,6LAAC,yMAAA,CAAA,SAAM;wBAAC,WAAU;;;;;;;;;;;;;;;;YAGrB;;;;;;;;AAGL,sBAAsB,WAAW,GAAG,+KAAA,CAAA,YAA+B,CAAC,WAAW;AAE/E,MAAM,kCAAoB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAKvC,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,6LAAC,+KAAA,CAAA,QAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qCACA,SAAS,QACT;QAED,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,+KAAA,CAAA,QAA2B,CAAC,WAAW;AAEvE,MAAM,sCAAwB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAG3C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,+KAAA,CAAA,YAA+B;QAC9B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;;;;;;AAGb,sBAAsB,WAAW,GAAG,+KAAA,CAAA,YAA+B,CAAC,WAAW;AAE/E,MAAM,uBAAuB,CAAC,EAC5B,SAAS,EACT,GAAG,OACmC;IACtC,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8CAA8C;QAC3D,GAAG,KAAK;;;;;;AAGf;OAVM;AAWN,qBAAqB,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 240, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/placeholder-images.ts"],"sourcesContent":["import data from './placeholder-images.json';\n\nexport type ImagePlaceholder = {\n  id: string;\n  description: string;\n  imageUrl: string;\n  imageHint: string;\n};\n\nexport const PlaceHolderImages: ImagePlaceholder[] = data.placeholderImages;\n"],"names":[],"mappings":";;;AAAA;;AASO,MAAM,oBAAwC,2GAAA,CAAA,UAAI,CAAC,iBAAiB","debugId":null}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/data.ts"],"sourcesContent":["\nimport type { User, Candidate, Test, Submission, ProctoringLog } from './types';\nimport { PlaceHolderImages } from './placeholder-images';\n\nexport const users: User[] = [\n  { id: 'user-1', name: 'Admin', email: 'admin@proctor.com', role: 'admin', avatarUrl: PlaceHolderImages.find(p => p.id === 'avatar1')?.imageUrl || '' },\n  { id: 'user-2', name: 'Eva Luator', email: 'eva@proctor.com', role: 'evaluator', avatarUrl: PlaceHolderImages.find(p => p.id === 'avatar2')?.imageUrl || '' },\n];\n\nexport const candidates: Candidate[] = [\n  { id: 'cand-1', name: 'Alice Johnson', email: 'alice@example.com', avatarUrl: PlaceHolderImages.find(p => p.id === 'avatar3')?.imageUrl || '' },\n  { id: 'cand-2', name: 'Bob Williams', email: 'bob@example.com', avatarUrl: PlaceHolderImages.find(p => p.id === 'avatar4')?.imageUrl || '' },\n  { id: 'cand-3', name: 'Charlie Brown', email: 'charlie@example.com', avatarUrl: PlaceHolderImages.find(p => p.id === 'avatar5')?.imageUrl || '' },\n];\n\nexport const tests: Test[] = [\n  {\n    id: 'test-1',\n    title: 'Frontend Developer Assessment',\n    description: 'A comprehensive test for frontend development skills.',\n    category: 'Technical',\n    timeLimit: 60,\n    createdBy: 'user-1',\n    createdAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),\n    assignedCandidateIds: ['cand-1', 'cand-2'],\n    accessCode: 'FRONT123',\n    passingScore: 20,\n    evaluationMode: 'manual',\n    questions: [\n      { id: 'q1', testId: 'test-1', type: 'mcq', category: 'technical', questionText: 'What is React?', options: ['A library', 'A framework', 'A language'], answer: 'A library', marks: 10 },\n      { id: 'q2', testId: 'test-1', type: 'puzzle', category: 'technical', questionText: 'Write a function to reverse a string.', answer: 'function reverse(str) {\\n  return str.split(\"\").reverse().join(\"\");\\n}', language: 'javascript', marks: 20 },\n    ],\n  },\n  {\n    id: 'test-2',\n    title: 'Backend Engineering Challenge',\n    description: 'Evaluate backend engineering principles and coding.',\n    category: 'Technical',\n    timeLimit: 90,\n    createdBy: 'user-1',\n    createdAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(),\n    assignedCandidateIds: ['cand-3'],\n    accessCode: 'BACK456',\n    passingScore: 40,\n    evaluationMode: 'manual',\n    questions: [\n      { id: 'q3', testId: 'test-2', type: 'paragraph', category: 'technical', questionText: 'Explain the difference between SQL and NoSQL databases.', answer: 'SQL databases are relational, use structured query language and have a predefined schema. NoSQL databases are non-relational, have dynamic schemas for unstructured data.', marks: 25 },\n      { id: 'q4', testId: 'test-2', type: 'puzzle', category: 'technical', questionText: 'Implement a REST API endpoint for user creation.', language: 'javascript', marks: 35 },\n    ],\n  },\n  {\n    id: 'mcq-test-3',\n    title: 'General Knowledge Quiz',\n    description: 'A quick quiz to test general knowledge.',\n    category: 'General',\n    timeLimit: 15,\n    createdBy: 'user-1',\n    createdAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),\n    assignedCandidateIds: ['cand-1', 'cand-2', 'cand-3'],\n    accessCode: 'QUIZ101',\n    passingScore: 20,\n    evaluationMode: 'automatic',\n    questions: [\n        { id: 'q5', testId: 'mcq-test-3', type: 'mcq', category: 'general', questionText: 'What is the capital of France?', options: ['Berlin', 'Madrid', 'Paris', 'Rome'], answer: 'Paris', marks: 10 },\n        { id: 'q6', testId: 'mcq-test-3', type: 'mcq', category: 'logical', questionText: 'Which planet is known as the Red Planet?', options: ['Earth', 'Mars', 'Jupiter', 'Venus'], answer: 'Mars', marks: 10 },\n        { id: 'q7', testId: 'mcq-test-3', type: 'mcq', category: 'aptitude', questionText: 'What is the largest ocean on Earth?', options: ['Atlantic', 'Indian', 'Arctic', 'Pacific'], answer: 'Pacific', marks: 10 },\n    ],\n  }\n];\n\nexport const submissions: Submission[] = [\n  { id: 'sub-1', testId: 'test-1', candidateId: 'cand-1', answers: { q1: 'A library', q2: 'function reverse(s){ return s.split(\"\").reverse().join(\"\"); }' }, score: 28, status: 'completed', submittedAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(), result: 'fail' },\n  { id: 'sub-2', testId: 'test-1', candidateId: 'cand-2', answers: { q1: 'A framework', q2: '...' }, score: null, status: 'evaluating', submittedAt: new Date().toISOString() },\n  { id: 'sub-3', testId: 'test-2', candidateId: 'cand-3', answers: { q3: '...', q4: '...' }, score: null, status: 'evaluating', submittedAt: new Date().toISOString() },\n];\n\nexport const proctoringLogs: ProctoringLog[] = [\n  // Logs for Charlie Brown's test (cand-3, test-2)\n  { id: 'log-1', testId: 'test-2', candidateId: 'cand-3', timestamp: new Date(Date.now() - 80 * 60 * 1000).toISOString(), status: 'present' },\n  { id: 'log-2', testId: 'test-2', candidateId: 'cand-3', timestamp: new Date(Date.now() - 75 * 60 * 1000).toISOString(), status: 'present' },\n  { id: 'log-3', testId: 'test-2', candidateId: 'cand-3', timestamp: new Date(Date.now() - 70 * 60 * 1000).toISOString(), status: 'no_face' },\n  { id: 'log-4', testId: 'test-2', candidateId: 'cand-3', timestamp: new Date(Date.now() - 69 * 60 * 1000).toISOString(), status: 'no_face' },\n  { id: 'log-5', testId: 'test-2', candidateId: 'cand-3', timestamp: new Date(Date.now() - 68 * 60 * 1000).toISOString(), status: 'present' },\n  { id: 'log-6', testId: 'test-2', candidateId: 'cand-3', timestamp: new Date(Date.now() - 50 * 60 * 1000).toISOString(), status: 'multiple_faces' },\n  { id: 'log-7', testId: 'test-2', candidateId: 'cand-3', timestamp: new Date(Date.now() - 49 * 60 * 1000).toISOString(), status: 'present' },\n  { id: 'log-8', testId: 'test-2', candidateId: 'cand-3', timestamp: new Date(Date.now() - 30 * 60 * 1000).toISOString(), status: 'no_face' },\n  { id: 'log-9', testId: 'test-2', candidateId: 'cand-3', timestamp: new Date(Date.now() - 10 * 60 * 1000).toISOString(), status: 'present' },\n];\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 557, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/store.ts"],"sourcesContent":["\n\n'use client';\n\nimport { create } from 'zustand';\nimport type { Test, Submission, Question, Candidate, ProctoringLog } from './types';\nimport { tests as initialTests, submissions as initialSubmissions, candidates as initialCandidates } from './data';\nimport { isFirebaseEnabled, db } from './firebase';\nimport { doc, updateDoc, arrayUnion, writeBatch, collection, deleteDoc, getDocs, setDoc } from 'firebase/firestore';\n\n\ntype TestsState = {\n  tests: Test[];\n  setTests: (tests: Test[]) => void;\n  addTest: (test: Test) => Promise<void>;\n  updateTest: (test: Partial<Test>) => Promise<void>;\n  deleteTest: (testId: string) => void;\n  deleteQuestion: (questionId: string, testId: string) => void;\n  assignCandidates: (testId: string, candidateIds: string[]) => Promise<void>;\n  updateQuestion: (updatedQuestion: Partial<Question> & { id: string; testId: string }) => void;\n};\n\nexport const useTestsStore = create<TestsState>((set, get) => ({\n  tests: initialTests,\n  setTests: (tests) => set({ tests }),\n  addTest: async (test) => {\n    if (isFirebaseEnabled) {\n      try {\n        const batch = writeBatch(db);\n        const testRef = doc(db, 'tests', test.id);\n        const { questions, ...testData } = test;\n        \n        batch.set(testRef, {\n            ...testData,\n            assignedCandidateIds: testData.assignedCandidateIds || [] \n        });\n\n        test.questions.forEach(question => {\n          const questionRef = doc(collection(testRef, 'questions'), question.id);\n          batch.set(questionRef, { ...question, testId: test.id });\n        });\n\n        await batch.commit();\n      } catch (error) {\n        console.error(\"Error adding test to Firestore:\", error);\n      }\n    } else {\n        set((state) => ({ tests: [...state.tests, test] }));\n    }\n  },\n  updateTest: async (test) => {\n    if (isFirebaseEnabled && test.id) {\n        try {\n            const testRef = doc(db, 'tests', test.id);\n            const { questions, ...testData } = test;\n            await updateDoc(testRef, testData as any);\n        } catch (error) {\n            console.error(\"Error updating test in Firestore:\", error);\n        }\n    }\n    set(state => ({\n        tests: state.tests.map(t => t.id === test.id ? { ...t, ...test } as Test : t)\n    }));\n  },\n  deleteTest: async (testId) => {\n    if (isFirebaseEnabled) {\n      try {\n        const questionsRef = collection(db, 'tests', testId, 'questions');\n        const questionsSnap = await getDocs(questionsRef);\n        const batch = writeBatch(db);\n        questionsSnap.forEach(doc => batch.delete(doc.ref));\n        await batch.commit();\n\n        await deleteDoc(doc(db, 'tests', testId));\n      } catch (error) {\n        console.error(\"Error deleting test from Firestore:\", error);\n      }\n    } else {\n       set((state) => ({ tests: state.tests.filter(test => test.id !== testId) }));\n    }\n  },\n  deleteQuestion: async (questionId, testId) => {\n    if (isFirebaseEnabled) {\n      try {\n        await deleteDoc(doc(db, 'tests', testId, 'questions', questionId));\n      } catch (error) {\n        console.error(\"Error deleting question from Firestore:\", error);\n      }\n    } else {\n        set((state) => ({\n        tests: state.tests.map(test => {\n            if(test.id !== testId) return test;\n            return {\n                ...test,\n                questions: test.questions.filter(q => q.id !== questionId),\n            }\n        })\n        }));\n    }\n  },\n  assignCandidates: async (testId, candidateIds) => {\n    if (isFirebaseEnabled) {\n        try {\n            const testRef = doc(db, 'tests', testId);\n            await updateDoc(testRef, {\n                assignedCandidateIds: arrayUnion(...candidateIds)\n            });\n        } catch (error) {\n            console.error(\"Error assigning candidates in Firestore:\", error);\n        }\n    } else {\n        set((state) => ({\n            tests: state.tests.map(test => \n            test.id === testId \n                ? { ...test, assignedCandidateIds: Array.from(new Set([...(test.assignedCandidateIds || []), ...candidateIds])) }\n                : test\n            )\n        }));\n    }\n  },\n  updateQuestion: async (updatedQuestion) => {\n    if (isFirebaseEnabled) {\n        try {\n            const questionRef = doc(db, 'tests', updatedQuestion.testId, 'questions', updatedQuestion.id);\n            await updateDoc(questionRef, updatedQuestion as any);\n        } catch(error) {\n             console.error(\"Error updating question in Firestore:\", error);\n        }\n    }\n    else {\n        set((state) => ({\n        tests: state.tests.map(test => {\n            if (test.id !== updatedQuestion.testId) return test;\n            return {\n                ...test,\n                questions: test.questions.map(q => q.id === updatedQuestion.id ? {...q, ...updatedQuestion} : q),\n            }\n        })\n        }));\n    }\n  },\n}));\n\n\ntype SubmissionsState = {\n    submissions: Submission[];\n    setSubmissions: (submissions: Submission[]) => void;\n    fetchAllSubmissions: () => Promise<void>;\n    addSubmission: (submission: Omit<Submission, 'result'>, proctoringLogs: Omit<ProctoringLog, 'id'>[], test: Test, timeTaken: number) => Promise<void>;\n    updateSubmission: (submissionId: string, data: Partial<Submission>) => void;\n    deleteSubmission: (submissionId: string) => Promise<void>;\n}\n\nexport const useSubmissionsStore = create<SubmissionsState>((set, get) => ({\n    submissions: initialSubmissions,\n    setSubmissions: (submissions) => set({ submissions }),\n    fetchAllSubmissions: async () => {\n        if (isFirebaseEnabled) {\n            try {\n                const querySnapshot = await getDocs(collection(db, \"submissions\"));\n                const submissions = querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Submission));\n                set({ submissions });\n            } catch (error) {\n                console.error(\"Error fetching all submissions from Firestore:\", error);\n            }\n        }\n    },\n    addSubmission: async (submission, proctoringLogs, test, timeTaken) => {\n      let finalSubmission: Submission = { ...submission, timeTaken };\n\n      const isAutoGradable = test.questions.every(q => q.type === 'mcq' || q.type === 'image-mcq' || q.type === 'video-mcq');\n      if (test.evaluationMode === 'automatic' && isAutoGradable) {\n          let score = 0;\n          test.questions.forEach(q => {\n              if ((q.type === 'mcq' || q.type === 'image-mcq' || q.type === 'video-mcq') && finalSubmission.answers[q.id] === q.answer) {\n                  score += (q.marks || 0);\n              }\n          });\n          \n          finalSubmission.score = score;\n          finalSubmission.status = 'completed';\n          finalSubmission.result = score >= test.passingScore ? 'pass' : 'fail';\n      }\n\n      if (isFirebaseEnabled) {\n        try {\n          const batch = writeBatch(db);\n          \n          const submissionRef = doc(db, 'submissions', finalSubmission.id);\n          batch.set(submissionRef, finalSubmission);\n          \n          proctoringLogs.forEach(log => {\n              const logId = `log-${Date.now()}-${Math.random().toString(16).slice(2)}`;\n              const logRef = doc(db, 'proctoringLogs', logId);\n              batch.set(logRef, { ...log, id: logId });\n          });\n\n          await batch.commit();\n\n        } catch (error) {\n          console.error(\"Error adding submission and logs to Firestore:\", error);\n        }\n      }\n      set((state) => ({ submissions: [...state.submissions, finalSubmission] }))\n    },\n    updateSubmission: async (submissionId, data) => {\n        if(isFirebaseEnabled) {\n            try {\n                await updateDoc(doc(db, 'submissions', submissionId), data);\n            } catch (error) {\n                console.error(\"Error updating submission in Firestore:\", error);\n            }\n        }\n        set((state) => ({\n            submissions: state.submissions.map(s => \n                s.id === submissionId ? { ...s, ...data } : s\n            )\n        }))\n    },\n    deleteSubmission: async (submissionId) => {\n        if (isFirebaseEnabled) {\n            try {\n                await deleteDoc(doc(db, 'submissions', submissionId));\n            } catch (error) {\n                console.error(\"Error deleting submission:\", error);\n            }\n        }\n        set(state => ({ submissions: state.submissions.filter(s => s.id !== submissionId) }));\n    },\n}));\n\n\ntype CandidatesState = {\n  candidates: Candidate[];\n  setCandidates: (candidates: Candidate[]) => void;\n  addCandidate: (candidate: Candidate) => void;\n  removeCandidate: (candidateId: string) => Promise<void>;\n};\n\nexport const useCandidatesStore = create<CandidatesState>((set) => ({\n  candidates: initialCandidates,\n  setCandidates: (candidates) => set({ candidates }),\n  addCandidate: (candidate) => {\n    if (isFirebaseEnabled) {\n        // This should be handled by auth/firestore triggers in a real app,\n        // but for client-side, we add it directly if needed.\n        // `signInAsCandidate` in login page handles the primary creation.\n    } else {\n        set((state) => ({ candidates: [...state.candidates, candidate] }));\n    }\n  },\n  removeCandidate: async (candidateId) => {\n    if (isFirebaseEnabled) {\n      try {\n        await deleteDoc(doc(db, \"candidates\", candidateId));\n      } catch (error) {\n        console.error(\"Error deleting candidate:\", error);\n      }\n    } else {\n       set((state) => ({ candidates: state.candidates.filter(c => c.id !== candidateId) }))\n    }\n  },\n}));\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 840, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/evaluator-layout.tsx"],"sourcesContent":["\n'use client';\n\nimport * as React from 'react';\nimport { useRouter } from 'next/navigation';\nimport {\n  FileText,\n  LogOut,\n  ChevronDown,\n  ClipboardCheck,\n} from 'lucide-react';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { isFirebaseEnabled, auth, db } from '@/lib/firebase';\nimport { signOut } from 'firebase/auth';\nimport { useAuth } from '@/context/auth-context';\nimport { useTestsStore, useCandidatesStore, useSubmissionsStore } from '@/lib/store';\nimport { collection, onSnapshot, query, getDocs } from 'firebase/firestore';\nimport type { Test, Candidate, Submission, Question } from '@/lib/types';\nimport { useToast } from '@/hooks/use-toast';\n\nexport function EvaluatorLayout({ children }: { children: React.ReactNode }) {\n  const router = useRouter();\n  const { user } = useAuth();\n  const { toast } = useToast();\n\n  const { setTests } = useTestsStore();\n  const { setCandidates } = useCandidatesStore();\n  const { setSubmissions } = useSubmissionsStore();\n\n  React.useEffect(() => {\n    if (!isFirebaseEnabled) return;\n\n    const unsubscribes: (() => void)[] = [];\n\n    const testsQuery = query(collection(db, 'tests'));\n    const testsUnsub = onSnapshot(testsQuery, async (snapshot) => {\n        const testsData = await Promise.all(snapshot.docs.map(async (doc) => {\n            const test = { id: doc.id, ...doc.data() } as Test;\n            const questionsQuery = query(collection(db, 'tests', doc.id, 'questions'));\n            const questionsSnapshot = await getDocs(questionsQuery);\n            test.questions = questionsSnapshot.docs.map(qDoc => ({ id: qDoc.id, ...qDoc.data() } as Question));\n            return test;\n        }));\n        setTests(testsData);\n    }, (error) => {\n        console.error(\"Error fetching tests:\", error);\n        toast({ variant: 'destructive', title: 'Error loading tests', description: error.message });\n    });\n    unsubscribes.push(testsUnsub);\n\n    const candidatesQuery = query(collection(db, 'candidates'));\n    const candidatesUnsub = onSnapshot(candidatesQuery, (snapshot) => {\n        const candidatesData = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Candidate));\n        setCandidates(candidatesData);\n    }, (error) => {\n        console.error(\"Error fetching candidates:\", error);\n        toast({ variant: 'destructive', title: 'Error loading candidates', description: error.message });\n    });\n    unsubscribes.push(candidatesUnsub);\n\n    const submissionsQuery = query(collection(db, 'submissions'));\n    const submissionsUnsub = onSnapshot(submissionsQuery, (snapshot) => {\n        const subsData = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Submission));\n        setSubmissions(subsData);\n    }, (error) => {\n        console.error(\"Error fetching submissions:\", error);\n        toast({ variant: 'destructive', title: 'Error loading submissions', description: error.message });\n    });\n    unsubscribes.push(submissionsUnsub);\n\n    return () => unsubscribes.forEach(unsub => unsub());\n\n  }, [setTests, setCandidates, setSubmissions, toast]);\n\n\n  const handleLogout = async () => {\n    if (isFirebaseEnabled) {\n      await signOut(auth);\n    }\n    router.push('/');\n  };\n\n  const displayName = user?.displayName || user?.email || 'Evaluator';\n  const displayEmail = user?.email || 'No email associated';\n\n  return (\n    <div className='flex flex-col min-h-screen'>\n      <header className=\"flex h-16 items-center justify-between border-b bg-background/50 px-4 backdrop-blur-sm shrink-0\">\n        <div className=\"flex items-center gap-2\">\n            <div className=\"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10 overflow-hidden\">\n               <FileText className=\"h-5 w-5 text-primary\" />\n            </div>\n            <span className=\"text-lg font-semibold\">ProctorExam Lite | Evaluator</span>\n        </div>\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <button className=\"flex items-center gap-2 rounded-full p-1 pr-3 transition-colors hover:bg-muted\">\n              <div className=\"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10 text-primary\">\n                <ClipboardCheck className=\"h-5 w-5\" />\n              </div>\n              <div className=\"hidden text-left md:block\">\n                <p className=\"text-sm font-medium\">{displayName}</p>\n                <p className=\"text-xs text-muted-foreground\">{displayEmail}</p>\n              </div>\n              <ChevronDown className=\"ml-auto h-4 w-4 text-muted-foreground\" />\n            </button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\" className=\"w-56\">\n            <DropdownMenuLabel>My Account</DropdownMenuLabel>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem onClick={handleLogout}>\n              <LogOut className=\"mr-2 h-4 w-4\" />\n              <span>Log out</span>\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </header>\n      <main className=\"flex-1 overflow-y-auto bg-muted/40 overflow-x-hidden\">\n        <div className='container mx-auto max-w-7xl p-4 md:p-6 lg:p-8'>\n         {children}\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}